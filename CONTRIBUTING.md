# Contributing to OXA

## Prerequisites

- [Node.js](https://nodejs.org/) (v22+)
- [pnpm](https://pnpm.io/) (v9+)
- [uv](https://docs.astral.sh/uv/) (for Python package management)

## Setup

```bash
# Install dependencies
pnpm install
```

## Schema Development

The OXA schema is defined as individual YAML files in the `schema/` directory. YAML was chosen for schema definitions because it is more human-readable and easier to edit than JSON.

The `schema/schema.json` file is **autogenerated** from the YAML sources and should not be edited directly. Any schema changes should be made to the `.yaml` files, then regenerated:

```bash
pnpm codegen json
```

## Development Scripts

### Formatting

```bash
# Format all files
pnpm format

# Check formatting without modifying files
pnpm format:check
```

### Linting

```bash
# Check for lint issues
pnpm lint

# Auto-fix lint issues
pnpm lint:fix
```

### Type Checking

```bash
# Run TypeScript type checking
pnpm typecheck
```

### Code Generation

```bash
# Run all code generation (validate, ts, py, rs, docs)
pnpm codegen all

# Or run individual steps:
pnpm codegen validate  # Validate schema files
pnpm codegen ts        # Generate TypeScript types
pnpm codegen py        # Generate Python Pydantic models
pnpm codegen rs        # Generate Rust types
pnpm codegen docs      # Generate MyST documentation
```

### Building

```bash
# Build all packages (uses Turborepo for caching and parallel execution)
pnpm build

# Clean all packages
pnpm clean
```

**Note:** This project uses [Turborepo](https://turbo.build/) for build orchestration. Turborepo provides intelligent caching and parallel task execution across the monorepo, significantly speeding up builds and tests.

## Documentation

The documentation uses [MyST](https://mystmd.org) and requires the automated codegen tool to run. To start the documentation use `npm install -g mystmd` and run `myst start` in the `docs/` folder. The online documentation is hosted using Curvenote under https://oxa.dev
